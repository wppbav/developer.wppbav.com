"use strict";(self.webpackChunkthe_fount=self.webpackChunkthe_fount||[]).push([[4868],{5632:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>u});var t=a(4848),r=a(8453),s=a(1470),i=a(9365);const l={},d="Brandscape Data",c={id:"developer-tools/python/endpoints/brandscape-data",title:"Brandscape Data",description:"Read more in the API documentation for the brandscape-data endpoint.",source:"@site/docs/developer-tools/python/endpoints/brandscape-data.md",sourceDirName:"developer-tools/python/endpoints",slug:"/developer-tools/python/endpoints/brandscape-data",permalink:"/docs/2.x/developer-tools/python/endpoints/brandscape-data",draft:!1,unlisted:!1,editUrl:"https://github.com/wppbav/developer.wppbav.com/edit/main/docs/developer-tools/python/endpoints/brandscape-data.md",tags:[],version:"current",frontMatter:{},sidebar:"toolsSidebar",previous:{title:"Brands",permalink:"/docs/2.x/developer-tools/python/endpoints/brands"},next:{title:"Categories",permalink:"/docs/2.x/developer-tools/python/endpoints/categories"}},o={},u=[{value:"Usage",id:"usage",level:2},{value:"Available filters in function calls",id:"available-filters-in-function-calls",level:2},{value:"Required filters",id:"required-filters",level:2},{value:"Default includes",id:"default-includes",level:2},{value:"Clashing column names",id:"clashing-column-names",level:2},{value:"Metric keys",id:"metric-keys",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"brandscape-data",children:"Brandscape Data"})}),"\n","\n",(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsxs)(n.p,{children:["Read more in the API documentation for the ",(0,t.jsxs)(n.a,{href:"/docs/2.x/core-resources/brandscape-data",children:[(0,t.jsx)(n.code,{children:"brandscape-data"})," endpoint"]}),"."]})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"brandscape-data"})," endpoint has full support, including query validation."]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Endpoint"}),(0,t.jsx)(n.th,{children:"Function"}),(0,t.jsxs)(n.th,{children:[(0,t.jsx)(n.code,{children:"Client"})," method"]}),(0,t.jsx)(n.th,{children:"Filters class"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:'"brandscape-data"'})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"brandscape_data"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"Client.brandscape_data"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"BrandscapeFilters"})})]})})]}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsxs)(s.A,{children:[(0,t.jsx)(i.A,{value:"sync",label:"Sync",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="Using top-level functions"',children:'import bavapi\n\nresult = bavapi.brandscape_data("TOKEN", name="Facebook")\n'})})}),(0,t.jsx)(i.A,{value:"async",label:"Async",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",metastring:'title="Using Client asynchronously"',children:'import bavapi\n\nasync with bavapi.Client("TOKEN") as bav:\n    result = await bav.brandscape_data(name="Facebook")\n'})})})]}),"\n",(0,t.jsxs)(n.admonition,{type:"caution",children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"brandscape-data"})," has filters which have a slightly ",(0,t.jsx)(n.strong,{children:"different"})," name than for other endpoints:"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"year_number"})," instead of ",(0,t.jsx)(n.code,{children:"year_numbers"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"country_code"})," instead of ",(0,t.jsx)(n.code,{children:"country_codes"}),"."]}),"\n"]})]}),"\n",(0,t.jsx)(n.h2,{id:"available-filters-in-function-calls",children:"Available filters in function calls"}),"\n",(0,t.jsx)(n.p,{children:"These filters are available directly within the function/method:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Positional filters: ",(0,t.jsx)(n.code,{children:"country_code"}),", ",(0,t.jsx)(n.code,{children:"year_number"}),", ",(0,t.jsx)(n.code,{children:"audiences"}),", ",(0,t.jsx)(n.code,{children:"brand_name"})," (search by name)"]}),"\n",(0,t.jsxs)(n.li,{children:["Keyword filters: ",(0,t.jsx)(n.code,{children:"studies"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["For other filters, passing a ",(0,t.jsx)(n.code,{children:"BrandscapeFilters"})," instance to the ",(0,t.jsx)(n.code,{children:"filters"})," parameter is required."]}),"\n",(0,t.jsx)(n.h2,{id:"required-filters",children:"Required filters"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"brandscape-data"})," can retrieve brand datasets from an arbitrary combination of studies, audiences and years, so it is\npossible that the request becomes too large for the server to deliver effectively for all users. Please see the see the\nmain API documentation for the ",(0,t.jsx)(n.a,{href:"/docs/2.x/core-resources/brandscape-data",children:"brandscape data endpoint"})," for more details on\nrequired filters to apply."]}),"\n",(0,t.jsxs)(n.p,{children:["If a query does not have any of these combinations of filters, it will raise a ",(0,t.jsx)(n.code,{children:"ValidationError"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:'bavapi.brandscape_data("TOKEN")  # Error, no filters specified\n\nbavapi.brandscape_data("TOKEN", year_number=2022) # Error, not enough filters\n\nbavapi.brandscape_data("TOKEN", brand_name="Facebook") # OK\n\nbavapi.brandscape_data(\n    "TOKEN", filters=bavapi.filters.BrandscapeFilters(audience=22, brands=123)\n)  # OK\n'})}),"\n",(0,t.jsx)(n.h2,{id:"default-includes",children:"Default includes"}),"\n",(0,t.jsxs)(n.p,{children:["In order to provide critical information about the data retrieved from ",(0,t.jsx)(n.code,{children:"brandscape-data"})," some ",(0,t.jsx)(n.code,{children:"include"})," values are\nrequested by\ndefault: ",(0,t.jsx)(n.code,{children:"study"}),", ",(0,t.jsx)(n.code,{children:"brand"}),", ",(0,t.jsx)(n.code,{children:"category"})," and ",(0,t.jsx)(n.code,{children:"audience"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["If you add any of these values in the ",(0,t.jsx)(n.code,{children:"include"})," field by themselves, the default won't be used, and ",(0,t.jsx)(n.code,{children:"bavapi"})," will make a\nrequest with the specified ",(0,t.jsx)(n.code,{children:"include"})," instead."]}),"\n",(0,t.jsxs)(n.p,{children:["If, on the other hand, you request an ",(0,t.jsx)(n.code,{children:"include"})," that is ",(0,t.jsx)(n.em,{children:"not"})," part of the default values, ",(0,t.jsx)(n.code,{children:"bavapi"})," will append that new\nvalue to the default ",(0,t.jsx)(n.code,{children:"include"})," values."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-py",children:'# All default includes will be requested\nbavapi.brandscape_data("TOKEN", brand_name="Facebook")\n\n# Only the "brand" include will be requested\nbavapi.brandscape_data("TOKEN", brand_name="Facebook", include="brand")\n\n# The "company" include will be appended to the default "include" values\nbavapi.brandscape_data("TOKEN", brand_name="Facebook", include="company")\n\n'})}),"\n",(0,t.jsx)(n.h2,{id:"clashing-column-names",children:"Clashing column names"}),"\n",(0,t.jsxs)(n.p,{children:["Some includes can have clashing column names with the original data. This happens, for example, with the ",(0,t.jsx)(n.code,{children:'"brand"'}),"\ninclude, which when expanded will have column names such as ",(0,t.jsx)(n.code,{children:'"brand_name"'}),", which is already present in\nthe ",(0,t.jsx)(n.code,{children:"brandscape-data"})," table."]}),"\n",(0,t.jsxs)(n.p,{children:["To circumvent this issue, the response parsing function will append the ",(0,t.jsx)(n.code,{children:'"global_"'})," prefix to includes with potentially\nclashing names."]}),"\n",(0,t.jsxs)(n.p,{children:["As a result, you will see a set of columns, extracted from the ",(0,t.jsx)(n.code,{children:'"brand"'})," include, which will have a ",(0,t.jsx)(n.code,{children:'"global_"'})," prefix\nin their names."]}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["This may change in future versions of ",(0,t.jsx)(n.code,{children:"bavapi"})," as the parsing logic is upgraded."]})}),"\n",(0,t.jsx)(n.h2,{id:"metric-keys",children:"Metric keys"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"brandscape-data"})," provides a special filter to specify the data ",(0,t.jsx)(n.em,{children:"columns"})," that the response should\ncontain: ",(0,t.jsx)(n.code,{children:"metric_keys"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"You can specify the metrics that your response should contain, and the API will include all score types for that metric."}),"\n",(0,t.jsxs)(n.admonition,{title:"Example",type:"info",children:[(0,t.jsxs)(n.p,{children:["Setting ",(0,t.jsx)(n.code,{children:"metric_keys"})," to ",(0,t.jsx)(n.code,{children:'["differentiation", "relevance"]'})," will instruct the request to only return the following\ncolumns:"]}),(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"differentiation_c"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"differentiation_rank"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"relevance_c"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"relevance_rank"})}),"\n",(0,t.jsxs)(n.li,{children:["Brand information such as ",(0,t.jsx)(n.code,{children:"id"}),", ",(0,t.jsx)(n.code,{children:"brand_name"}),", and ",(0,t.jsx)(n.code,{children:"category_name"})]}),"\n",(0,t.jsxs)(n.li,{children:["Any additional columns from the ",(0,t.jsx)(n.code,{children:"include"})," parameter"]}),"\n"]})]})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},9365:(e,n,a)=>{a.d(n,{A:()=>i});a(6540);var t=a(8215);const r={tabItem:"tabItem_Ymn6"};var s=a(4848);function i(e){let{children:n,hidden:a,className:i}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,i),hidden:a,children:n})}},1470:(e,n,a)=>{a.d(n,{A:()=>w});var t=a(6540),r=a(8215),s=a(3104),i=a(6347),l=a(205),d=a(7485),c=a(1682),o=a(679);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:a}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:a,attributes:t,default:r}}=e;return{value:n,label:a,attributes:t,default:r}}))}(a);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function p(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function b(e){let{queryString:n=!1,groupId:a}=e;const r=(0,i.W6)(),s=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,d.aZ)(s),(0,t.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function f(e){const{defaultValue:n,queryString:a=!1,groupId:r}=e,s=h(e),[i,d]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=a.find((e=>e.default))??a[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:s}))),[c,u]=b({queryString:a,groupId:r}),[f,x]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,s]=(0,o.Dv)(a);return[r,(0,t.useCallback)((e=>{a&&s.set(e)}),[a,s])]}({groupId:r}),m=(()=>{const e=c??f;return p({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{m&&d(m)}),[m]);return{selectedValue:i,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);d(e),u(e),x(e)}),[u,x,s]),tabValues:s}}var x=a(2303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=a(4848);function v(e){let{className:n,block:a,selectedValue:t,selectValue:i,tabValues:l}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),o=e=>{const n=e.currentTarget,a=d.indexOf(n),r=l[a].value;r!==t&&(c(n),i(r))},u=e=>{let n=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const a=d.indexOf(e.currentTarget)+1;n=d[a]??d[0];break}case"ArrowLeft":{const a=d.indexOf(e.currentTarget)-1;n=d[a]??d[d.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":a},n),children:l.map((e=>{let{value:n,label:a,attributes:s}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>d.push(e),onKeyDown:u,onClick:o,...s,className:(0,r.A)("tabs__item",m.tabItem,s?.className,{"tabs__item--active":t===n}),children:a??n},n)}))})}function y(e){let{lazy:n,children:a,selectedValue:s}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function g(e){const n=f(e);return(0,j.jsxs)("div",{className:(0,r.A)("tabs-container",m.tabList),children:[(0,j.jsx)(v,{...n,...e}),(0,j.jsx)(y,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,j.jsx)(g,{...e,children:u(e.children)},String(n))}},8453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>l});var t=a(6540);const r={},s=t.createContext(r);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);