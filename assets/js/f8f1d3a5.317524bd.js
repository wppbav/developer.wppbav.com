"use strict";(self.webpackChunkthe_fount=self.webpackChunkthe_fount||[]).push([[9587],{6629:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>d});var r=t(4848),a=t(8453),s=t(1470),o=t(9365);const l={sidebar_label:"Reference Classes"},i="Reference Classes",c={id:"developer-tools/python/reference-classes",title:"Reference Classes",description:"The SDK can generate some convenience reference classes which map Fount resource IDs with a more readable name, both",source:"@site/docs/developer-tools/python/reference-classes.md",sourceDirName:"developer-tools/python",slug:"/developer-tools/python/reference-classes",permalink:"/docs/2.x/developer-tools/python/reference-classes",draft:!1,unlisted:!1,editUrl:"https://github.com/wppbav/developer.wppbav.com/edit/main/docs/developer-tools/python/reference-classes.md",tags:[],version:"current",frontMatter:{sidebar_label:"Reference Classes"},sidebar:"toolsSidebar",previous:{title:"Authentication",permalink:"/docs/2.x/developer-tools/python/authentication"},next:{title:"Basic Usage",permalink:"/docs/2.x/developer-tools/python/basic-usage"}},u={},d=[];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"reference-classes",children:"Reference Classes"})}),"\n","\n",(0,r.jsx)(n.p,{children:"The SDK can generate some convenience reference classes which map Fount resource IDs with a more readable name, both\nfor ease of use and for autocompletion in IDEs."}),"\n",(0,r.jsxs)(n.p,{children:["These classes are automatically generated by a console command that becomes available once ",(0,r.jsx)(n.code,{children:"bavapi"})," is installed."]}),"\n",(0,r.jsx)(n.admonition,{title:"Protected Access",type:"note",children:(0,r.jsxs)(n.p,{children:["A Fount API token is required to generate reference files. See\nthe ",(0,r.jsx)(n.a,{href:"/docs/2.x/developer-tools/python/authentication",children:"Authentication"})," section for more information and\ninstructions for using ",(0,r.jsx)(n.code,{children:".env"})," files within your Python project."]})}),"\n",(0,r.jsxs)(n.p,{children:["As of ",(0,r.jsx)(n.code,{children:"v1.1"})," the following reference classes will be generated in a folder named ",(0,r.jsx)(n.code,{children:"bavapi_refs"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Audiences"}),": encodes audience IDs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Countries"}),": encodes country IDs"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"A sample reference class would look like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:"class Audiences(Enum):\n    ALL_ADULTS = 27  # Random ID\n    ...\n"})}),"\n",(0,r.jsx)(n.p,{children:"And could be used to have better visibility when filtering API responses:"}),"\n",(0,r.jsxs)(s.A,{children:[(0,r.jsx)(o.A,{value:"ref",label:"Using Reference class",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",metastring:'title="Explicit audience filter"',children:'bavapi.brandscape_data(country_code="US", year=2022, audiences=Audiences.ALL_ADULTS)\n'})})}),(0,r.jsx)(o.A,{value:"no-ref",label:"Not using Reference class",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",metastring:'title="Audience filter not human-readable"',children:'bavapi.brandscape_data(country_code="US", year=2022, audiences=27)\n'})})})]}),"\n",(0,r.jsx)(n.admonition,{title:"Ignore reference classes on public repositories",type:"caution",children:(0,r.jsxs)(n.p,{children:["Please take care not to commit reference classes to public repositories. Add ",(0,r.jsx)(n.code,{children:"bavapi_refs/"})," to your ",(0,r.jsx)(n.code,{children:".gitignore"})," file."]})}),"\n",(0,r.jsx)(n.p,{children:"To generate these reference classes, there are two options for authenticating your requests:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Specify the Fount API token via the ",(0,r.jsx)(n.code,{children:"-t"}),"/",(0,r.jsx)(n.code,{children:"--token"})," argument"]}),"\n",(0,r.jsxs)(n.li,{children:["Use a ",(0,r.jsx)(n.code,{children:".env"})," file to store your Fount API token and install ",(0,r.jsx)(n.code,{children:"python-dotenv"})," to read the file into your environment.\nSee the ",(0,r.jsx)(n.a,{href:"/docs/2.x/authentication#recommended-way-to-manage-api-keys",children:"Authentication"})," section for more info."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Run the following command:"}),"\n",(0,r.jsxs)(s.A,{children:[(0,r.jsx)(o.A,{value:"with-env",label:"With a `.env` file",default:!0,children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-prompt",children:"bavapi-gen-refs --all\n"})})}),(0,r.jsx)(o.A,{value:"without-env",label:"Using the `-t`/`--token` argument",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-prompt",children:'bavapi-gen-refs -t "TOKEN" --all\n'})})})]}),"\n",(0,r.jsx)(n.p,{children:"Alternatively, you can specify the name of the reference class to generate:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-prompt",children:"bavapi-gen-refs --name audiences\n"})}),"\n",(0,r.jsxs)(n.p,{children:["To update existing reference classes with the latest data, re-run ",(0,r.jsx)(n.code,{children:"bavapi-gen-refs --all"})," on your terminal."]}),"\n",(0,r.jsx)(n.admonition,{title:"Keep the reference classes up to date",type:"caution",children:(0,r.jsx)(n.p,{children:"The audiences and markets change over time. It is recommended to update your reference classes regularly. Typically\naudiences and markets are never deleted, however we can't guarantee that it will never happen."})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>o});t(6540);var r=t(8215);const a={tabItem:"tabItem_Ymn6"};var s=t(4848);function o(e){let{children:n,hidden:t,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,o),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>w});var r=t(6540),a=t(8215),s=t(3104),o=t(6347),l=t(205),i=t(7485),c=t(1682),u=t(679);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:a}}=e;return{value:n,label:t,attributes:r,default:a}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function f(e){let{queryString:n=!1,groupId:t}=e;const a=(0,o.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,i.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(a.location.search);n.set(s,e),a.replace({...a.location,search:n.toString()})}),[s,a])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,s=h(e),[o,i]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=t.find((e=>e.default))??t[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:s}))),[c,d]=f({queryString:t,groupId:a}),[m,b]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,s]=(0,u.Dv)(t);return[a,(0,r.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:a}),v=(()=>{const e=c??m;return p({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{v&&i(v)}),[v]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);i(e),d(e),b(e)}),[d,b,s]),tabValues:s}}var b=t(2303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=t(4848);function g(e){let{className:n,block:t,selectedValue:r,selectValue:o,tabValues:l}=e;const i=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),u=e=>{const n=e.currentTarget,t=i.indexOf(n),a=l[t].value;a!==r&&(c(n),o(a))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=i.indexOf(e.currentTarget)+1;n=i[t]??i[0];break}case"ArrowLeft":{const t=i.indexOf(e.currentTarget)-1;n=i[t]??i[i.length-1];break}}n?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},n),children:l.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>i.push(e),onKeyDown:d,onClick:u,...s,className:(0,a.A)("tabs__item",v.tabItem,s?.className,{"tabs__item--active":r===n}),children:t??n},n)}))})}function j(e){let{lazy:n,children:t,selectedValue:s}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=m(e);return(0,x.jsxs)("div",{className:(0,a.A)("tabs-container",v.tabList),children:[(0,x.jsx)(g,{...n,...e}),(0,x.jsx)(j,{...n,...e})]})}function w(e){const n=(0,b.A)();return(0,x.jsx)(y,{...e,children:d(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var r=t(6540);const a={},s=r.createContext(a);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);